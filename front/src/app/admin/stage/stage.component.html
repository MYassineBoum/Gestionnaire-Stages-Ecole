<div class="stage">
    <p>Ajouter ou consulter la liste des stages.</p>
    <div class="ajout">
        <button (click)="ajouterStage()">Ajouter</button>
    </div>
    <div class="filtre">
      <label for="">Filtrer la recherche</label>
      <input type="text" placeholder="Rechercher par des mots clés" [(ngModel)]="searchStage">
    </div>
    <div class="liste">
        <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">N°</th>
                <th scope="col">N° étudiant</th>
                <th scope="col">N° professeur</th>
                <th scope="col">N° tuteur</th>
                <th scope="col">N° entreprise</th>
                <th scope="col">Code type</th>
                <th scope="col">Année stage</th>
                <th scope="col">Compte rendu</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody *ngFor="let stage of listeStages | searchFilter: searchStage">
              <tr>
                <td>{{stage.no_stage}}</td>
                <td>{{stage.etudiant?.no_etudiant}}</td>
                <td>{{stage.professeur?.no_professeur}}</td>
                <td>{{stage.tuteur?.no_tuteur}}</td>
                <td>{{stage.entreprise?.no_entreprise}}</td>
                <td>{{stage.type?.code_type}}</td>
                <td>{{stage.annee_stage}}</td>
                <td *ngIf="stage.compte_rendu_stage != null">{{stage.compte_rendu_stage}}</td>
                <td *ngIf="stage.compte_rendu_stage == null">Bientot disponible</td>
                <td id="actions">
                  <mat-icon (click)="modifierStage(stage)">save</mat-icon>
                  <mat-icon (click)="supprimerStage(stage.no_stage)">delete</mat-icon>
                </td>
              </tr>
            </tbody>
          </table> 
    </div>
</div>